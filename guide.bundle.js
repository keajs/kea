webpackJsonp([0],{1e3:function(e,t){e.exports="import { delay } from 'redux-saga'\n\nconst API_URL = 'https://api.github.com'\n\n@kea({\n  // ...\n\n  workers: {\n    * fetchRepositories (action) {\n      const { username } = action.payload\n\n      yield delay(100) // debounce for 100ms\n\n      const url = `${API_URL}/users/${username}/repos?per_page=250`\n      const response = yield window.fetch(url)\n\n      if (response.status === 200) {\n        const json = yield response.json()\n        // we have the repositories in `json`\n        // what to do with them?\n      } else {\n        const json = yield response.json()\n        // there's an error in `json.message`\n        // what to do with it?\n      }\n    }\n  }\n})\n"},1001:function(e,t){e.exports="import { put } from 'redux-saga/effects' // new\n\n@kea({\n  workers: {\n    * fetchRepositories (action) {\n      const { setRepositories, setFetchError } = this.actions // new\n      const { username } = action.payload\n\n      yield delay(100)\n\n      const url = `${API_URL}/users/${username}/repos?per_page=250`\n      const response = yield window.fetch(url)\n\n      if (response.status === 200) {\n        const json = yield response.json()\n        yield put(setRepositories(json)) // new\n      } else {\n        const json = yield response.json()\n        yield put(setFetchError(json.message)) // new\n      }\n    }\n  }\n})\n"},1002:function(e,t){e.exports="import { call } from 'redux-saga/effects'\n\n@kea({\n  start: function * () {\n    const username = yield this.get('username')\n    yield call(this.workers.fetchRepositories, { payload: { username } })\n  }\n})\n"},1003:function(e,t){e.exports="import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    setUsername: (username) => ({ username })\n  }),\n\n  reducers: ({ actions }) => ({\n    username: ['keajs', PropTypes.string, {\n      [actions.setUsername]: (_, payload) => payload.username\n    }]\n  })\n})\nexport default class ExampleGithubScene extends Component {\n  render () {\n    const { username } = this.props\n    const { setUsername } = this.actions\n\n    return (\n      <div className='example-github-scene'>\n        <div style={{marginBottom: 20}}>\n          <h1>Search for a github user</h1>\n          <input value={username}\n                 type='text'\n                 onChange={e => setUsername(e.target.value)} />\n        </div>\n        <div>\n          Repos will come here...\n        </div>\n      </div>\n    )\n  }\n}\n"},1004:function(e,t){e.exports="@kea({\n  start: function * () {\n    const { setUsername } = this.actions\n    const username = yield this.get('username')\n    yield put(setUsername(username))\n  }\n})\n"},1005:function(e,t){e.exports="@kea({\n  actions: () => ({\n    setUsername: (username) => ({ username }),\n    setRepositories: (repositories) => ({ repositories }),\n    setFetchError: (message) => ({ message })\n  }),\n\n  reducers: ({ actions }) => ({\n    username: ['keajs', PropTypes.string, {\n      [actions.setUsername]: (_, payload) => payload.username\n    }],\n    repositories: [[], PropTypes.array, {\n      [actions.setUsername]: () => [],\n      [actions.setRepositories]: (_, payload) => payload.repositories\n    }],\n    isLoading: [false, PropTypes.bool, {\n      [actions.setUsername]: () => true,\n      [actions.setRepositories]: () => false,\n      [actions.setFetchError]: () => false\n    }],\n    error: [null, PropTypes.string, {\n      [actions.setUsername]: () => null,\n      [actions.setFetchError]: (_, payload) => payload.message\n    }]\n  })\n})\n"},1006:function(e,t){e.exports="@kea({\n  selectors: ({ selectors }) => ({\n    sortedRepositories: [\n      () => [selectors.repositories],\n      (repositories) => {\n        return repositories.sort((a, b) => b.stargazers_count - a.stargazers_count)\n      },\n      PropTypes.array\n    ]\n  })\n})\n"},1007:function(e,t){e.exports="@kea({\n  actions: ...,\n  reducers: ...,\n\n  takeLatest: ({ actions, workers }) => ({\n    [actions.setUsername]: workers.fetchRepositories\n  }),\n\n  workers: {\n    * fetchRepositories (action) {\n      const { username } = action.payload\n\n      console.log(`setUsername called with ${username}`)\n    }\n  }\n})\n"},1008:function(e,t){e.exports="export default class ExampleGithubScene extends Component {\n  render () {\n    const { username, isLoading, repositories, error } = this.props\n    const { setUsername } = this.actions\n\n    return (\n      <div className='example-github-scene'>\n        <div style={{marginBottom: 20}}>\n          <h1>Search for a github user</h1>\n          <input value={username}\n                 type='text'\n                 onChange={e => setUsername(e.target.value)} />\n        </div>\n        {isLoading ? (\n          <div>\n            Loading...\n          </div>\n        ) : repositories.length > 0 ? (\n          <div>\n            Found {repositories.length} repositories for user {username}!\n            {repositories.map(repo => (\n              <div key={repo.id}>\n                <a href={repo.html_url} target='_blank'>{repo.full_name}</a>\n                {' - '}\n                {repo.stargazers_count} stars, {repo.forks} forks.\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div>\n            {error ? `Error: ${error}` : 'No repositories found'}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n"},1009:function(e,t){e.exports="npm install -g kea\nkea new my-project\ncd my-project\nyarn       # ... or npm install\nyarn start # ... or npm start\n"},1010:function(e,t){e.exports="yarn add custom-react-scripts\nyarn remove react-scripts\n"},1011:function(e,t){e.exports="REACT_APP_DECORATORS=true\n"},1012:function(e,t){e.exports="import \"regenerator-runtime/runtime\"; // add this\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux' // add this\nimport './index.css';\nimport store from './store'; // add this (before import App !!!)\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render( // update this\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nregisterServiceWorker();\n"},1013:function(e,t){e.exports="create-react-app my-app\ncd my-app\nyarn start\n"},1014:function(e,t){e.exports="yarn add kea redux react-redux redux-saga reselect\n"},1015:function(e,t){e.exports="import { createStore, applyMiddleware, combineReducers, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { keaSaga, keaReducer } from 'kea'\n\nconst reducers = combineReducers({\n  scenes: keaReducer('scenes')\n  // other app reducers here\n})\n\nconst sagaMiddleware = createSagaMiddleware()\n\nconst finalCreateStore = compose(\n  applyMiddleware(sagaMiddleware),\n  // more middlewares here\n)(createStore)\n\nconst store = finalCreateStore(reducers)\n\nsagaMiddleware.run(keaSaga)\n\nexport default store\n"},1016:function(e,t){e.exports="# if you're using yarn\nyarn add kea\nyarn add reselect redux-saga     # you will need these if not already installed\nyarn add react redux react-redux # you probably have these\n\n# if you're using npm\nnpm install kea --save\nnpm install reselect redux-saga --save     # you will need these if not already installed\nnpm install react redux react-redux --save # you probably have these\n"},1017:function(e,t){e.exports="import { keaReducer, keaSaga } from 'kea' // add this\n\nconst reducers = combineReducers({\n  scenes: keaReducer('scenes'), // add this\n  routing: routerReducer\n  // ... other reducers you might have\n})\n\nconst sagaMiddleware = createSagaMiddleware()\nconst finalCreateStore = compose(\n  applyMiddleware(sagaMiddleware),\n  applyMiddleware(routerMiddleware(browserHistory))\n)(createStore)\n\nconst store = finalCreateStore(reducers)\n\nsagaMiddleware.run(keaSaga) // add this\n"},1018:function(e,t){e.exports="import { take, race, put } from 'redux-saga/effects'\nimport delay from '~/utils/delay'\n"},1019:function(e,t){e.exports="@kea({\n  actions: () => ({\n    updateSlide: index => ({ index })\n  }),\n\n  // ...\n\n  // run this saga when the component is mounted\n  start: function * () {\n    const { updateSlide } = this.actions\n\n    while (true) {\n      const { timeout } = yield race({\n        change: take(updateSlide.toString()),\n        timeout: delay(5000)\n      })\n\n      if (timeout) {\n        const currentSlide = yield this.get('currentSlide')\n        yield put(updateSlide(currentSlide + 1))\n      }\n    }\n  }\n})\nexport default class StaticSlider extends Component {\n  // as it was\n}\n"},1020:function(e,t){e.exports="// slider/index.js\nimport './styles.scss'\n\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\nimport { take, race, put } from 'redux-saga/effects'\n\nimport delay from '~/utils/delay'\nimport range from '~/utils/range'\n\nimport images from './images'\n\n@kea({\n  key: (props) => props.id,\n\n  path: (key) => ['scenes', 'homepage', 'slider', key],\n\n  actions: () => ({\n    updateSlide: index => ({ index })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    currentSlide: [props.initialSlide || 0, PropTypes.number, {\n      [actions.updateSlide]: (state, payload) => {\n        return payload.key === key ? payload.index % images.length : state\n      }\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    currentImage: [\n      () => [selectors.currentSlide],\n      (currentSlide) => images[currentSlide],\n      PropTypes.object\n    ]\n  }),\n\n  // This saga is run when the component is mounted.\n  // The function is a regular redux-saga worker that has access to:\n  // 1) this.actions, 2) this.key and 3) this.props\n  //\n  // Read the redux-saga documentation to understand the different\n  // functions like: race(), put(), take(), etc\n  start: function * () {\n    const { updateSlide } = this.actions\n\n    console.log('Starting homepage slider saga')\n    // console.log(this, this.actions, this.props)\n\n    while (true) {\n      // wait until the updateSlide() action is triggered or a 5sec timeout occurs\n      // to ignore actions from other slider instances we must also match the key\n      const { timeout } = yield race({\n        change: take(action => action.type === updateSlide.toString() &&\n                               action.payload.key === this.key),\n        timeout: delay(5000)\n      })\n\n      if (timeout) {\n        // use this.get(..) to select the latest data from redux\n        const currentSlide = yield this.get('currentSlide')\n\n        // actions are not automatically bound to dispatch, so\n        // you must use redux-saga's put() with them\n        yield put(updateSlide(currentSlide + 1))\n      }\n    }\n  },\n\n  // this saga is run when the component is unmounted\n  stop: function * () {\n    console.log('Stopping homepage slider saga')\n  },\n\n  // The redux-saga takeEvery function.\n  // It waits for actions and runs the relevant functions.\n  // Also available: takeLatest\n  takeEvery: ({ actions, workers }) => ({\n    [actions.updateSlide]: workers.updateSlide\n  }),\n\n  // it's recommended to group all the logic under the workers: {} object.\n  workers: {\n    updateSlide: function * (action) {\n      // check if it was this component that triggered the action\n      if (action.payload.key === this.key) {\n        console.log('slide update triggered', action.payload.key, this.key, this.props.id)\n        // console.log(action, this)\n      }\n    }\n  }\n})\nexport default class Slider extends Component {\n  render () {\n    const { currentSlide, currentImage } = this.props\n    const { updateSlide } = this.actions\n\n    const title = `Image copyright by ${currentImage.author}`\n\n    return (\n      <div className='kea-slider'>\n        <img src={currentImage.src} alt={title} title={title} />\n        <div className='buttons'>\n          {range(images.length).map(i => (\n            <span key={i}\n                  className={i === currentSlide ? 'selected' : ''}\n                  onClick={() => updateSlide(i)} />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class SlidersScene extends Component {\n  render () {\n    return (\n      <div className='slider-container'>\n        <Slider id={1} initialSlide={0} />\n        <Slider id={2} initialSlide={1} />\n      </div>\n    )\n  }\n}\n\n"},1022:function(e,t){e.exports="import api from './api'\n\nfunction * doSomething () {\n  // get all visible users\n  const result = yield api.fetchUsers()\n  console.log('api returned', result)\n\n  // get the posts for the first user\n  const posts = yield api.fetchUserPosts(result.users[0].username)\n\n  // do something with the user's posts\n  console.log('got the posts', posts)\n}\n"},1023:function(e,t){e.exports="import api from './api'\n\nfunction doSomething () {\n  // get all visible users\n  api.fetchUsers().then(result => {\n    console.log('api returned', result)\n\n    // get the posts for the first user\n    api.fetchUserPosts(result.users[0].username).then(posts => {\n      // do something with the user's posts\n      console.log('got the posts', posts)\n    })\n  })\n}\n"},1024:function(e,t){e.exports="import api from './api'\nimport { take, race, put, fork, call } from 'redux-saga/effects'\n\n// redux action creator\nconst loadUsers = (search) => ({ type: 'LOAD_USERS', payload: { search } })\n\n// all saga effects must be run in generator functions\nfunction * saga () {\n\n  // here are some things you can do inside sagas\n\n  // block until an action with the type \"LOAD_USERS\" was dispatched\n  yield take('LOAD_USERS')\n\n  // dispatch the redux action \"loadUsers('something')\"\n  // == { type: 'LOAD_USERS', payload: { search: 'something' } }\n  yield put(loadUsers('something'))\n\n  // block until either the action 'LOAD_USERS' or the action 'LOAD_POSTS' got dispatched\n  const winner = yield race({\n    loadUsers: take('LOAD_USERS'),\n    loadPosts: take('LOAD_POSTS'),\n  })\n\n  // in case the winner was loadUsers:\n  // winner == { loadUsers: /* something */, loadPosts: undefined }\n  console.log(winner)\n\n  // anything that returns a promise (.then(result => {})) can also be accessed like this:\n  const result = yield api.loadUsers()\n\n  // start another saga in the background (will not block)\n  yield fork(waitForUsersAction)\n\n  // start another saga in the foreground (will block until it finishes)\n  yield call(otherWorker)\n}\n\nfunction * otherWorker () {\n  console.log('inside otherworker')\n}\n\nfunction * waitForUsersAction () {\n  while (true) {\n    yield take('LOAD_USERS')\n    const result = yield api.loadUsers()\n    yield put({ type: 'USERS_LOADED', payload: { result } })\n  }\n}\n"},1025:function(e,t){e.exports="import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\nimport images from './images'     // array of objects [{ src, author }, ...]\nimport range from '~/utils/range' // helper, range(3) === [0, 1, 2]\n\n@kea({\n  actions: () => ({\n    updateSlide: index => ({ index })\n  }),\n\n  reducers: ({ actions }) => ({\n    currentSlide: [0, PropTypes.number, {\n      [actions.updateSlide]: (state, payload) => payload.index % images.length\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    currentImage: [\n      () => [selectors.currentSlide],\n      (currentSlide) => images[currentSlide],\n      PropTypes.object\n    ]\n  })\n})\nexport default class Slider extends Component {\n  render () {\n    const { currentSlide, currentImage } = this.props\n    const { updateSlide } = this.actions\n\n    const title = `Image copyright by ${currentImage.author}`\n\n    return (\n      <div className='kea-slider'>\n        <img src={currentImage.src} alt={title} title={title} />\n        <div className='buttons'>\n          {range(images.length).map(i => (\n            <span key={i}\n                  className={i === currentSlide ? 'selected' : ''}\n                  onClick={() => updateSlide(i)} />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n"},1028:function(e,t,n){var a=n(946);"string"==typeof a&&(a=[[e.i,a,""]]);n(24)(a,{});a.locals&&(e.exports=a.locals)},1029:function(e,t,n){var a=n(947);"string"==typeof a&&(a=[[e.i,a,""]]);n(24)(a,{});a.locals&&(e.exports=a.locals)},1030:function(e,t,n){var a=n(948);"string"==typeof a&&(a=[[e.i,a,""]]);n(24)(a,{});a.locals&&(e.exports=a.locals)},1032:function(e,t,n){var a=n(950);"string"==typeof a&&(a=[[e.i,a,""]]);n(24)(a,{});a.locals&&(e.exports=a.locals)},1033:function(e,t,n){var a=n(952);"string"==typeof a&&(a=[[e.i,a,""]]);n(24)(a,{});a.locals&&(e.exports=a.locals)},1044:function(e,t,n){n(204),n(202),n(201),n(205),n(203),e.exports=n(200)},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(342));t.default=n.i(a.createScene)({name:"connected",component:r.a})},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(345));t.default=n.i(a.createScene)({name:"counter-dynamic",component:r.a})},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(346));t.default=n.i(a.createScene)({name:"counter",component:r.a})},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(349));t.default=n.i(a.createScene)({name:"github",component:r.a})},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(350));t.default=n.i(a.createScene)({name:"installation",component:r.a})},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(351));t.default=n.i(a.createScene)({name:"sliders",component:r.a})},337:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),l=n.n(s),i=n(8),c=(n.n(i),n(33)),u=(n.n(c),n(69)),m=n(341),p=n(19);n.n(p);n.d(t,"a",function(){return g});var d,h,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=(d=n.i(i.connect)({actions:[u.a,["toggleFeature"]],props:[u.a,["features"]]}),d(h=function(e){function t(){var e,o,s,l;a(this,t);for(var i=arguments.length,u=Array(i),m=0;m<i;m++)u[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(c.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),f(t,[{key:"render",value:function(){this.props.features,this.actions.toggleFeature;return l.a.createElement("div",{className:"connected-scene"},l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Example #6 - Connected services"),l.a.createElement("p",null,"The final result will look like this:"),l.a.createElement("div",{className:"demo"},l.a.createElement(m.a,null))),l.a.createElement("div",{className:"description"},l.a.createElement("p",null,"That's it for the guide!"),l.a.createElement("p",null,"Check out the ",l.a.createElement("a",{href:"/examples/todos",onClick:this.handleRoute},"example applications")," or read the ",l.a.createElement("a",{href:"/api/logic",onClick:this.handleRoute},"API docs"),".")))}}]),t}(s.Component))||h)},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),r=(n.n(a),n(337));t.default=n.i(a.createScene)({name:"connectedServices",component:r.a})},339:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(15),o=n.n(r),s=n(8),l=(n.n(s),n(44)),i=n(89),c="https://api.github.com";t.a=n.i(s.kea)({actions:function(){return{fetchRepositories:function(e){return{username:e}},setRepositories:function(e){return{repositories:e}},setFetchError:function(e){return{message:e}}}},reducers:function(e){var t,n,r,s=e.actions;return{username:["keajs",o.a.string,a({},s.fetchRepositories,function(e,t){return t.username})],repositories:[[],o.a.array,(t={},a(t,s.fetchRepositories,function(){return[]}),a(t,s.setRepositories,function(e,t){return t.repositories}),t)],isLoading:[!0,o.a.bool,(n={},a(n,s.fetchRepositories,function(){return!0}),a(n,s.setRepositories,function(){return!1}),a(n,s.setFetchError,function(){return!1}),n)],error:[null,o.a.string,(r={},a(r,s.fetchRepositories,function(){return null}),a(r,s.setFetchError,function(e,t){return t.message}),r)]}},takeLatest:function(e){var t=e.actions,n=e.workers;return a({},t.fetchRepositories,n.fetchRepositories)},workers:{fetchRepositories:regeneratorRuntime.mark(function e(t){var a,r,o,s,u,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.actions,r=a.setRepositories,o=a.setFetchError,s=t.payload.username,e.next=4,n.i(i.a)(100);case 4:return e.next=6,window.fetch(c+"/users/"+s+"/repos?per_page=250");case 6:if(u=e.sent,200!==u.status){e.next=15;break}return e.next=10,u.json();case 10:return m=e.sent,e.next=13,n.i(l.a)(r(m));case 13:e.next=20;break;case 15:return e.next=17,u.json();case 17:return p=e.sent,e.next=20,n.i(l.a)(o(p.message));case 20:case"end":return e.stop()}},e,this)})}})},340:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(15),o=n.n(r),s=n(8),l=(n.n(s),n(44)),i=n(89),c="https://hacker-news.firebaseio.com/v0/user/";t.a=n.i(s.kea)({actions:function(){return{fetchDetails:function(e){return{username:e}},setDetails:function(e,t){return{karma:e,stories:t}},setFetchError:function(e){return{message:e}}}},reducers:function(e){var t,n,r,s,l=e.actions;return{username:["keajs",o.a.string,a({},l.fetchDetails,function(e,t){return t.username})],karma:[null,o.a.number,(t={},a(t,l.fetchDetails,function(){return[]}),a(t,l.setDetails,function(e,t){return t.karma}),t)],stories:[[],o.a.array,(n={},a(n,l.fetchDetails,function(){return[]}),a(n,l.setDetails,function(e,t){return t.stories}),n)],isLoading:[!0,o.a.bool,(r={},a(r,l.fetchDetails,function(){return!0}),a(r,l.setDetails,function(){return!1}),a(r,l.setFetchError,function(){return!1}),r)],error:[null,o.a.string,(s={},a(s,l.fetchDetails,function(){return null}),a(s,l.setFetchError,function(e,t){return t.message}),s)]}},takeLatest:function(e){var t=e.actions,n=e.workers;return a({},t.fetchDetails,n.fetchDetails)},workers:{fetchDetails:regeneratorRuntime.mark(function e(t){var a,r,o,s,u,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.actions,r=a.setDetails,o=a.setFetchError,s=t.payload.username,e.next=4,n.i(i.a)(100);case 4:return e.next=6,window.fetch(""+c+s+".json");case 6:return u=e.sent,e.next=9,u.json();case 9:if(m=e.sent,!m){e.next=15;break}return e.next=13,n.i(l.a)(r(m.karma,m.submitted));case 13:e.next=17;break;case 15:return e.next=17,n.i(l.a)(o("Repository not found"));case 17:case"end":return e.stop()}},e,this)})}})},341:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(1),i=n.n(l),c=n(15),u=n.n(c),m=n(8),p=(n.n(m),n(44)),d=n(339),h=n(340);n.d(t,"a",function(){return b});var f,g,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=(f=n.i(m.kea)({connect:{actions:[d.a,["fetchRepositories"],h.a,["fetchDetails"]],props:[d.a,["repositories","isLoading as isGithubLoading","error as githubError"],h.a,["stories","karma","isLoading as isHackerNewsLoading","error as hackerNewsError"]]},actions:function(){return{setUsername:function(e){return{username:e}}}},reducers:function(e){var t=e.actions;return{username:["google",u.a.string,s({},t.setUsername,function(e,t){return t.username})]}},start:regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.actions.setUsername,e.next=3,this.get("username");case 3:return a=e.sent,e.next=6,n.i(p.a)(t(a));case 6:case"end":return e.stop()}},e,this)}),takeLatest:function(e){var t=e.actions;e.workers;return s({},t.setUsername,regeneratorRuntime.mark(function e(t){var a,r,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.actions,r=a.fetchRepositories,o=a.fetchDetails,s=t.payload.username,e.next=4,n.i(p.a)(r(s));case 4:return e.next=6,n.i(p.a)(o(s));case 6:case"end":return e.stop()}},e,this)}))}}),f(g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.isGithubLoading,a=e.isHackerNewsLoading,r=e.repositories,o=e.githubError,s=e.hackerNewsError,l=e.karma,c=e.stories,u=this.actions.setUsername;return i.a.createElement("div",{className:"example-github-scene"},i.a.createElement("div",{style:{marginBottom:20}},i.a.createElement("h1",null,"Search for a github AND hackernews user:"),i.a.createElement("input",{value:t,type:"text",onChange:function(e){return u(e.target.value)}})),a?i.a.createElement("div",null,"Loading..."):s?i.a.createElement("div",null,"Error: ",s):i.a.createElement("div",null,"HN Karma: ",l,i.a.createElement("br",null),"HN Stories: ",c.join(", ")),i.a.createElement("br",null),n?i.a.createElement("div",null,"Loading..."):r.length>0?i.a.createElement("div",null,"Found ",r.length," repositories for user ",t,"!",r.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement("a",{href:e.html_url,target:"_blank"},e.full_name)," - ",e.stargazers_count," stars, ",e.forks," forks.")})):i.a.createElement("div",null,o?"Error: "+o:"No repositories found"))}}]),t}(l.Component))||g)},342:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1028),l=(n.n(s),n(1)),i=n.n(l),c=n(8),u=(n.n(c),n(33)),m=(n.n(u),n(69)),p=n(19),d=n.n(p);n.d(t,"a",function(){return b});var h,f,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y={guideExample1:n(980),guideExample2:n(981),guideExample3:n(982),guideExample4:n(983),guideExample5:n(984)},b=(h=n.i(c.connect)({actions:[m.a,["toggleFeature"]],props:[m.a,["features"]]}),h(f=function(e){function t(){var e,o,s,l;a(this,t);for(var i=arguments.length,c=Array(i),m=0;m<i;m++)c[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(u.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),g(t,[{key:"render",value:function(){var e=this.props.features,t=this.actions.toggleFeature;return i.a.createElement("div",{className:"connected-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #5 - Connected logic"),i.a.createElement("p",null,"Attaching actions, reducers and selectors to your components will get you pretty far."),i.a.createElement("p",null,"However, there comes a time in every application's life when that's no longer enough. Perhaps you need to share code between components? Perhaps you want to separate concerns to make it more readable? Perhaps the logic has grown over 200 lines and really should be yanked out of ",i.a.createElement("code",null,"index.js"),"?"),i.a.createElement("p",null,"Whatever the reason, you're in luck! Kea was originally built just for this. The inline version that we've been using until now (",i.a.createElement("code",null,"@kea({})(Component)"),") came much later."),i.a.createElement("p",null,"So how do you separate your ",i.a.createElement("strong",null,"logic")," from your components?"),i.a.createElement("p",null,"Let's look at a real world example: this guide itself.")),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Separating concerns"),i.a.createElement("p",null,"You might have noticed buttons that look like this:"),i.a.createElement("p",null,i.a.createElement("button",{onClick:function(){return t("connectedGuideHelp")}},"Tell me more!")),e.connectedGuideHelp?i.a.createElement("div",{className:"extra-help"},'"more"!'):null,i.a.createElement("p",null,"How do they work?"),i.a.createElement("p",null,"When I started writing the guide, I just put this code on top of every component:"),i.a.createElement(d.a,{className:"javascript"},y.guideExample1),i.a.createElement("p",null,"The code is rather straightforward, perhaps just a little bit unfamiliar."),i.a.createElement("p",null,"We have an object, ",i.a.createElement("code",null,"features"),", which contains booleans that can be toggled on and off. We return a new object every time the action ",i.a.createElement("code",null,"toggleFeature(feature)")," is called, flipping the boolean for the requested feature."),i.a.createElement("p",null,"While it worked fine, it became repetetive to copy this same code on top of every page in the guide. Code duplication is usually a ",i.a.createElement("button",{onClick:function(){return t("connectedCodeSmell")}},"code smell")," and should be handled approriately."),e.connectedCodeSmell?i.a.createElement("div",{className:"extra-help"},i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Code_smell"},"Wikipedia"),": ",i.a.createElement("em",null,i.a.createElement("strong",null,"Code smell,"),' also known as bad smell, in computer programming code, refers to any symptom in the source code of a program that possibly indicates a deeper problem. According to Martin Fowler, "a code smell is a surface indication that usually corresponds to a deeper problem in the system". Another way to look at smells is with respect to principles and quality: ',i.a.createElement("strong",null,'"smells are certain structures in the code that indicate violation of fundamental design principles and negatively impact design quality"'),". Code smells are usually not bugsâ€”they are not technically incorrect and do not currently prevent the program from functioning. Instead, they indicate weaknesses in design that may be slowing down development or increasing the risk of bugs or failures in the future. Bad code smells can be an indicator of factors that contribute to technical debt."),i.a.createElement("br",null),i.a.createElement("br",null),"Yeah, yeah... I just wanted to use another hint box!"):null,i.a.createElement("p",null,"So how do we stop this madness?"),i.a.createElement("p",null,"First we must extract the logic to a separate file. Let's call it ",i.a.createElement("code",null,"features-logic.js"),":"),i.a.createElement(d.a,{
className:"javascript"},y.guideExample2),i.a.createElement("p",null,"You skip the ",i.a.createElement("code",null,"@")," in front of ",i.a.createElement("code",null,"@kea"),", but everything else remains the same."),i.a.createElement("p",null,"Then we have a few ways to import it."),i.a.createElement("p",null,"The simplest is to do a drop-in replacement:"),i.a.createElement(d.a,{className:"javascript"},y.guideExample3),i.a.createElement("p",null,"That's simple and works fine, but will only get you so far. There are a few things wrong with this approach:"),i.a.createElement("p",null,"First, it's not clear what you're importing. As ",i.a.createElement("a",{href:"https://mariusandra.com/blog/2012/09/two-strategies-for-writing-better-code/"},"code is read far more times than it's written"),", it's very very useful to be as explicit as possible. Your future self will thank you immensely! In this case you have no idea what extra props and actions your component will receive without having to open ",i.a.createElement("code",null,"features-logic.js")," and checking it out yourself."),i.a.createElement("p",null,"You also don't know what baggage you're getting. There might be hundreds of new actions and props, which your relatively simple component will receive. That will slow down the page, as a change in each of them will trigger re-rendering."),i.a.createElement("p",null,"What if one of the props changes? For example the new intern replaces the action ",i.a.createElement("code",null,"toggleFeature")," with two new actions: ",i.a.createElement("code",null,"setFeature")," and ",i.a.createElement("code",null,"clearFeature"),". Without (manually or automatically) clicking the buttons, you won't know that the action is no longer there. Bummer."),i.a.createElement("p",null,"What's more, you can't chain calls like this and you can't add other actions that only this component will use."),i.a.createElement("p",null,"So what's the solution? Answer: the ",i.a.createElement("code",null,"@connect({ ... })")," helper!"),i.a.createElement(d.a,{className:"javascript"},y.guideExample4),i.a.createElement("p",null,"While the syntax may look alien at first, it's very comfortable to use and optimised for readability."),i.a.createElement("p",null,"With ",i.a.createElement("code",null,"connect")," you may import as many props and actions from as many logic stores as you like. In case you make a typo (",i.a.createElement("code",null,"highlghtTheme")," instead of ",i.a.createElement("code",null,"highlightTheme"),"), you will get an error in the JS console and can fix it immediately. Just connect your logic and use it!"),i.a.createElement("p",null,"What if you also want to add actions and reducers only this component will use?"),i.a.createElement("p",null,"No problem! Just replace ",i.a.createElement("code",null,"@connect")," with ",i.a.createElement("code",null,"@kea({ connect: {}, /* other stuff */ })")," like so:"),i.a.createElement(d.a,{className:"javascript"},y.guideExample5),i.a.createElement("p",null,"If this is not redux-heaven, I don't know what is!"),i.a.createElement("h2",null,"Next steps"),i.a.createElement("p",null,"That's it for the guide!"),i.a.createElement("p",null,"Check out the ",i.a.createElement("a",{href:"/examples/todos",onClick:this.handleRoute},"example applications")," or read the ",i.a.createElement("a",{href:"/api/logic",onClick:this.handleRoute},"API docs"),".")))}}]),t}(l.Component))||f)},344:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(1029),i=(n.n(l),n(1)),c=n.n(i),u=n(15),m=n.n(u),p=n(8);n.n(p);n.d(t,"a",function(){return g});var d,h,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=(d=n.i(p.kea)({key:function(e){return e.id},path:function(e){return["scenes","counterDynamic","counter",e]},actions:function(){return{increment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{amount:e}},decrement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{amount:e}}}},reducers:function(e){var t,n=e.actions,a=e.key;e.props;return{counter:[0,m.a.number,(t={},s(t,n.increment,function(e,t){return t.key===a?e+t.amount:e}),s(t,n.decrement,function(e,t){return t.key===a?e-t.amount:e}),t)]}},selectors:function(e){var t=e.selectors;return{doubleCounter:[function(){return[t.counter]},function(e){return 2*e},m.a.number]}}}),d(h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.counter,n=e.doubleCounter,a=this.actions,r=a.increment,o=a.decrement;return c.a.createElement("div",{className:"kea-counter"},"Count: ",t,c.a.createElement("br",null),"Doublecount: ",n,c.a.createElement("br",null),c.a.createElement("button",{onClick:function(){return r(1)}},"Increment"),c.a.createElement("button",{onClick:function(){return o(1)}},"Decrement"))}}]),t}(i.Component))||h)},345:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1030),l=(n.n(s),n(1)),i=n.n(l),c=n(8),u=(n.n(c),n(33)),m=(n.n(u),n(19)),p=n.n(m),d=n(344);n.d(t,"a",function(){return b});var h,f,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y={full:n(986),keyPath:n(987),reducers:n(988)},b=(h=n.i(c.kea)({}),h(f=function(e){function t(){var e,o,s,l;a(this,t);for(var i=arguments.length,c=Array(i),m=0;m<i;m++)c[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(u.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),g(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"counter-dynamic-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #2 - Dynamic Counter"),"This example demonstrates dynamically created actions and reducers.",i.a.createElement("br",null),i.a.createElement("br",null),"As we saw in the ",i.a.createElement("a",{href:"/guide/counter",onClick:this.handleRoute},"previous example"),", if you render multiple instances of the same connected component, they will share the state.",i.a.createElement("br",null),i.a.createElement("br",null),"The guide below shows how to create multiple instances of one component with separate states:",i.a.createElement("div",{className:"demo"},i.a.createElement(d.a,{id:1}),i.a.createElement("br",null),i.a.createElement(d.a,{id:2})),i.a.createElement("h2",null,"1. Key and path"),"The code for this example is almost the same as for the ",i.a.createElement("a",{href:"/guide/counter",onClick:this.handleRoute},"previous counter"),".",i.a.createElement("br",null),i.a.createElement("br",null),"The big difference is that we must manually tell our component instances where to store their data:",i.a.createElement(p.a,{className:"javascript"},y.keyPath),"The ",i.a.createElement("code",null,"key")," function receives your component instance's ",i.a.createElement("code",null,"props")," as input and must return a key that's unique for the life of the component. Usually it's something like ",i.a.createElement("nobr",null,i.a.createElement("code",null,"key = (props) => props.id"))," if your component is rendered as ",i.a.createElement("nobr",null,i.a.createElement("code",null,"<Component id='somethingUnique' />")),i.a.createElement("br",null),i.a.createElement("br",null),"The ",i.a.createElement("em",null,"optional")," ",i.a.createElement("code",null,"path")," function specifies where the data for your component will live in Redux. It takes just one argument, the ",i.a.createElement("code",null,"key")," from the previous step.",i.a.createElement("br",null),i.a.createElement("br",null),"Note! You may also use ",i.a.createElement("code",null,"path")," with non-dynamic components (like the ",i.a.createElement("a",{href:"/guide/counter",onClick:this.handleRoute},"previous example"),") if you wish to specify where they will store their data.",i.a.createElement("br",null),i.a.createElement("br",null),"It makes your redux tree more readable and helps with debugging. In that case you have to skip the ",i.a.createElement("code",null,"key")," line.",i.a.createElement("h2",null,"2. Limiting the reducers"),"There's one last thing you need to do.",i.a.createElement("br",null),i.a.createElement("br",null),"While the reducers are unique for each component instance, the actions are shared.",i.a.createElement("br",null),i.a.createElement("br",null),"No matter which instance of your component triggers the action, all the reducers will receive it. So if counter #1 dispatches the ",i.a.createElement("code",null,"increment")," action, counter #2 will also receive it.",i.a.createElement("br",null),i.a.createElement("br",null),"In order to prevent this, you must check for the key in your reducers, like so:",i.a.createElement(p.a,{className:"javascript"},y.reducers),"This way you can choose if your actions are processed by each instance of the component or by all instances simultaneously."),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Final Example"),"While the following counters have separate data, they are still connected to the counters on top of this page, as they share the same ",i.a.createElement("code",null,"id"),"s. You can mix and match!",i.a.createElement("div",{className:"demo"},i.a.createElement(d.a,{id:1}),i.a.createElement("br",null),i.a.createElement(d.a,{id:2})),"Next, check out the ",i.a.createElement("a",{href:"/guide/sliders",onClick:this.handleRoute},"sliders")," demo to see how to add side effects to your code.",i.a.createElement("h2",null,"Full source"),i.a.createElement(p.a,{className:"javascript"},y.full),i.a.createElement("a",{href:"/guide/sliders",onClick:this.handleRoute},"Next demo")))}}]),t}(l.Component))||f)},346:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1032),l=(n.n(s),n(1)),i=n.n(l),c=n(8),u=(n.n(c),n(33)),m=(n.n(u),n(19)),p=n.n(m),d=n(209),h=n(69);n.d(t,"a",function(){return E});var f,g,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b={full:n(994),import:n(995),actions:n(992),actions2:n(989),actions3:n(990),actionsInject:n(991),reducers:n(997),selectors:n(324),selectors2:n(998),noDecorators:n(996),todoReducer:n(999),component:n(993)},E=(f=n.i(c.connect)({actions:[h.a,["toggleFeature"]],props:[h.a,["features"]]}),f(g=function(e){function t(){var e,o,s,l;a(this,t);for(var i=arguments.length,c=Array(i),m=0;m<i;m++)c[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(u.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props.features,t=this.actions.toggleFeature;return i.a.createElement("div",{className:"counter-singleton-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #1 - Counter"),"Let's start with the most basic of all examples: creating a counter that we can increment and decrement with the push of a button!",i.a.createElement("br",null),i.a.createElement("br",null),"The final result should look something like this:",i.a.createElement("div",{className:"demo"},i.a.createElement(d.a,null)),"Click the buttons to make sure it works! And then let's begin!"),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"1. Connecting @kea"),"Everything starts with importing ",i.a.createElement("code",null,"{ kea }")," into your application:",i.a.createElement(p.a,{className:"javascript"},b.import),"... and connecting it to your React component:",i.a.createElement(p.a,{className:"javascript"},b.component),i.a.createElement("button",{onClick:function(){return t("decorators")}},"What is this @kea({})?"),e.decorators?i.a.createElement("div",{className:"extra-help"},"The ",i.a.createElement("code",null,"@kea({})")," syntax is made possible by an experimental ESnext feature called ",i.a.createElement("strong",null,"decorators"),". You need to add the babel plugin ",i.a.createElement("a",{href:"https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy"},"babel-plugin-transform-decorators-legacy")," for them to work.",i.a.createElement("br",null),i.a.createElement("br",null),"In case decorators are not your cup of tea, you may just write your code like so:",i.a.createElement(p.a,{className:"javascript"},b.noDecorators),"... and it will work just fine. For the rest of this guide we will assume you have decorators enabled."):null),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"2. Actions, reducers, selectors, oh my!"),"Kea is built as a wrapper ",i.a.createElement("strong",null,"on top of")," ",i.a.createElement("a",{href:"http://redux.js.org/"},"redux"),", ",i.a.createElement("a",{href:"https://github.com/reactjs/reselect"},"reselect")," and ",i.a.createElement("a",{href:"https://redux-saga.js.org/"},"redux-saga"),".",i.a.createElement("br",null),i.a.createElement("br",null),"We strongly recommend you understand the ",i.a.createElement("a",{href:"http://redux.js.org/"},"basics of Redux")," before continuing, as kea liberally borrows concepts from it.",i.a.createElement("h3",null,"2.1. Actions"),"The first thing we do is define our actions:",i.a.createElement(p.a,{className:"javascript"},b.actions),"An action in kea is simply a function that takes some arguments and returns a payload. In this case the functions take one argument (amount - the amount to increment with) and return an object with it as the only key/value.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return t("actionDetails")}},"What is happening in the background?"),e.actionDetails?i.a.createElement("div",{className:"extra-help"},"We're using the ES6 double arrow shorthand for creating functions. What we're actually doing is this:",i.a.createElement(p.a,{className:"javascript"},b.actions2),"Also note the line:",i.a.createElement(p.a,{className:"javascript"},b.actionsInject),"... inside the ",i.a.createElement("code",null,"render()")," function.",i.a.createElement("br",null),i.a.createElement("br",null),"When wrapping kea onto your React component, we also inject a new object, ",i.a.createElement("code",null,"this.actions"),", which automatically binds these action creators to redux's ",i.a.createElement("code",null,"dispatch()")," and generates a unique ",i.a.createElement("code",null,"type")," for them.",i.a.createElement("br",null),i.a.createElement("br",null),"Calling ",i.a.createElement("code",null,"this.actions.increment(1)")," in your React component is the same as doing:",i.a.createElement(p.a,{className:"javascript"},b.actions3)):null,i.a.createElement("h3",null,"2.2. Reducers"),"Now that we can dispatch actions, we need to define reducers. This is where your data lives.",i.a.createElement("br",null),i.a.createElement("br",null),"Reducers have an initial ",i.a.createElement("code",null,"state")," and define actions which change this state. They may also include an optional ",i.a.createElement("code",null,"propType"),".",i.a.createElement("br",null),i.a.createElement("br",null),"The latest state of all of the reducers will be passed to your component as props.",i.a.createElement("br",null),i.a.createElement("br",null),"Here's an example:",i.a.createElement(p.a,{className:"javascript"},b.reducers),"The most important thing to remember about reducers is that they must consist of ",i.a.createElement("a",{href:"http://www.nicoespeon.com/en/2015/01/pure-functions-javascript/"},"pure functions"),".",i.a.createElement("br",null),i.a.createElement("br",null),"This means that your reducer must:",i.a.createElement("br",null),i.a.createElement("ol",null,i.a.createElement("li",null,"always return the same output for the same input"),i.a.createElement("li",null,"never change the input! (e.g. when adding something to an array, create and return a new array)"),i.a.createElement("li",null,"never have any other side effects, such as network requests (we'll get to them later in this guide)")),"If you understand how reducers work ",i.a.createElement("a",{href:"http://redux.js.org/docs/basics/Reducers.html"},"in redux"),", you should feel right at home here.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return t("reducerDetails")}},"Tell me more!"),e.reducerDetails?i.a.createElement("div",{className:"extra-help"},"To see more complex reducers in action, look at ",i.a.createElement("a",{href:"https://github.com/keajs/kea-example/blob/master/app/scenes/examples/todos/logic.js"},"the code for the todos example")," (copied below).",i.a.createElement("br",null),i.a.createElement("br",null),"We store all the todos in one object, and whenever we need to update anything for any todo, we return a completely new object.",i.a.createElement("br",null),i.a.createElement("br",null),"We use ES6 ",i.a.createElement("a",{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"},"destructuring")," and ",i.a.createElement("a",{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Spread_operator"},"object spread")," features extensively.",i.a.createElement(p.a,{className:"javascript"},b.todoReducer)):null,i.a.createElement("h3",null,"2.3. Selectors"),"The final piece of the puzzle is ",i.a.createElement("code",null,"selectors"),".",i.a.createElement("br",null),i.a.createElement("br",null),"Selectors (via ",i.a.createElement("a",{href:"https://github.com/reactjs/reselect"},"reselect"),") take as input other selectors and return some output. Selectors are cached and are only updated if their input changes. You should use them to run complex logic that is too costly to run in ",i.a.createElement("code",null,"render()")," every time.",i.a.createElement("br",null),i.a.createElement("br",null),"Adding selectors gives us this final piece of code:",i.a.createElement(p.a,{className:"javascript"},b.selectors),"The selectors are defined like this:",i.a.createElement(p.a,{className:"javascript"},b.selectors2),"Note that kea automatically creates selectors for all the reducers that you have defined, so you can use ",i.a.createElement("code",null,"selectors.reducerName")," immediately as input."),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Final Example"),"Adding all of this together and rendering two  ",i.a.createElement("code",null,"<Counter />"),"s gives us the following result:",i.a.createElement("div",{className:"demo"},i.a.createElement(d.a,null),i.a.createElement("br",null),i.a.createElement(d.a,null)),"You might notice that something odd is happening: Incrementing one counter automatically increments the other. Is there something we can do about this?",i.a.createElement("br",null),i.a.createElement("br",null),"Yes. That's what the next example is all about: ",i.a.createElement("a",{href:"/guide/counter-dynamic",onClick:this.handleRoute},"Dynamic counters"),i.a.createElement("h2",null,"Full source"),i.a.createElement(p.a,{className:"javascript"},b.full),"Next page: ",i.a.createElement("a",{href:"/guide/counter-dynamic",onClick:this.handleRoute},"Dynamic counters")))}}]),t}(l.Component))||g)},347:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(1),i=n.n(l),c=n(15),u=n.n(c),m=n(8),p=(n.n(m),n(44)),d=n(89);n.d(t,"a",function(){return b});var h,f,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y="https://api.github.com",b=(h=n.i(m.kea)({actions:function(){return{setUsername:function(e){return{username:e}},setRepositories:function(e){return{repositories:e}},setFetchError:function(e){return{message:e}}}},reducers:function(e){var t,n,a,r=e.actions;return{username:["keajs",u.a.string,s({},r.setUsername,function(e,t){return t.username})],repositories:[[],u.a.array,(t={},s(t,r.setUsername,function(){return[]}),s(t,r.setRepositories,function(e,t){return t.repositories}),t)],isLoading:[!1,u.a.bool,(n={},s(n,r.setUsername,function(){return!0}),s(n,r.setRepositories,function(){return!1}),s(n,r.setFetchError,function(){return!1}),n)],error:[null,u.a.string,(a={},s(a,r.setUsername,function(){return null}),s(a,r.setFetchError,function(e,t){return t.message}),a)]}},takeLatest:function(e){var t=e.actions,n=e.workers;return s({},t.setUsername,n.fetchRepositories)},workers:{fetchRepositories:regeneratorRuntime.mark(function e(t){var a,r,o,s,l,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.actions,r=a.setRepositories,o=a.setFetchError,s=t.payload.username,e.next=4,n.i(d.a)(100);case 4:return e.next=6,window.fetch(y+"/users/"+s+"/repos?per_page=250");case 6:if(l=e.sent,200!==l.status){e.next=15;break}return e.next=10,l.json();case 10:return i=e.sent,e.next=13,n.i(p.a)(r(i));case 13:e.next=20;break;case 15:return e.next=17,l.json();case 17:return c=e.sent,e.next=20,n.i(p.a)(o(c.message));case 20:case"end":return e.stop()}},e,this)})}}),h(f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.isLoading,a=e.repositories,r=e.error,o=this.actions.setUsername;return i.a.createElement("div",{className:"example-github-scene"},i.a.createElement("div",{style:{marginBottom:20}},i.a.createElement("h1",null,"Search for a github user"),i.a.createElement("input",{value:t,type:"text",onChange:function(e){return o(e.target.value)}})),n?i.a.createElement("div",null,"Loading..."):a.length>0?i.a.createElement("div",null,"Found ",a.length," repositories for user ",t,"!",a.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement("a",{href:e.html_url,target:"_blank"},e.full_name)," - ",e.stargazers_count," stars, ",e.forks," forks.")})):i.a.createElement("div",null,r?"Error: "+r:"No repositories found"))}}]),t}(l.Component))||f)},348:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(1),i=n.n(l),c=n(15),u=n.n(c),m=n(8);n.n(m);n.d(t,"a",function(){return f});var p,d,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=(p=n.i(m.kea)({actions:function(){return{setUsername:function(e){return{username:e}}}},reducers:function(e){var t=e.actions;return{username:["keajs",u.a.string,s({},t.setUsername,function(e,t){return t.username})]}}}),p(d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){var e=this.props.username,t=this.actions.setUsername;return i.a.createElement("div",{className:"example-github-scene"},i.a.createElement("div",{style:{marginBottom:20}},i.a.createElement("h1",null,"Search for a github user"),i.a.createElement("input",{value:e,type:"text",onChange:function(e){return t(e.target.value)}})),i.a.createElement("div",null,"Repos will come here..."))}}]),t}(l.Component))||d)},349:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),l=n.n(s),i=n(8),c=(n.n(i),n(33)),u=(n.n(c),n(19)),m=n.n(u),p=n(210),d=n(348),h=n(347),f=n(69);n.d(t,"a",function(){return w});var g,y,b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E={input:n(1003),takeLatest:n(1007),api:n(1e3),reducers:n(1005),api2:n(1001),view:n(1008),call:n(1002),put:n(1004),selector:n(1006),full:n(325)},w=(g=n.i(i.connect)({actions:[f.a,["toggleFeature"]],props:[f.a,["features"]]}),g(y=function(e){function t(){var e,o,s,l;a(this,t);for(var i=arguments.length,u=Array(i),m=0;m<i;m++)u[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(c.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props.features,t=this.actions.toggleFeature;return l.a.createElement("div",{className:"counter-singleton-scene"},l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Example #4 - Github"),l.a.createElement("p",null,"In this guide we are going to build a component that asks for an username and then fetches all the repositories for that user on Github."),l.a.createElement("p",null,"The final result will look like this:"),l.a.createElement("div",{className:"demo"},l.a.createElement(p.a,null))),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"1. Input the username"),l.a.createElement("p",null,"Now that you have seen the end result, let's build it, piece by piece."),l.a.createElement("p",null,"The first thing we want to do is to have an input element to enter the username."),l.a.createElement("p",null,"If you have followed the other parts of this guide, you should know how to get this part working."),l.a.createElement("p",null,"Hopefully after some tinkering you will come up with something like this:"),l.a.createElement(m.a,{className:"javascript"},E.input),l.a.createElement("p",null,"Live demo:"),l.a.createElement("div",{className:"demo"},l.a.createElement(d.a,null)),l.a.createElement("p",null,"You could probably have gotten as far with react's ",l.a.createElement("code",null,"setState"),", but since we want to capture this event, we'll go straight for the kea solution.")),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"2. Capture ",l.a.createElement("code",null,"setUsername")," and trigger an API call"),l.a.createElement("p",null,"The next step is to intercept Redux and listen for each instance of the ",l.a.createElement("code",null,"setUsername")," action being triggered."),l.a.createElement("p",null,"We do this with the ",l.a.createElement("code",null,"takeLatest")," option and a special worker function which does the API call."),l.a.createElement("button",{onClick:function(){return t("takeBoth")}},"takeLatest vs takeEvery?"),e.takeBoth?l.a.createElement("div",{className:"extra-help"},l.a.createElement("p",null,"There are two helpers we can use: ",l.a.createElement("code",null,"takeLatest")," and ",l.a.createElement("code",null,"takeEvery")),l.a.createElement("p",null,"What's the difference?"),l.a.createElement("p",null,"It's simple: ",l.a.createElement("code",null,"takeEvery")," runs the worker every time an action is called. ",l.a.createElement("code",null,"takeLatest")," does the same, but if a previous worker is still running, it will be cancelled and restarted."),l.a.createElement("p",null,"In practice this means ",l.a.createElement("code",null,"takeLatest")," let's us write code with less bugs: we will only handle the last API call that was made."),l.a.createElement("p",null,'Otherwise, for example, there might be a race condition, where when typing "reactjs", the results for "reactj" will arrive after "reactjs" and invalidate our state.'),l.a.createElement("p",null,"It's also super easy to implement debouncing and throttling when using ",l.a.createElement("code",null,"takeLatest"),". We will do so in a short while.")):null,l.a.createElement("p",null,"The code to hook them up would look something like this:"),l.a.createElement(m.a,{
className:"javascript"},E.takeLatest)),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"3. Trigger the actual call"),l.a.createElement("p",null,"Now that we have a time and a place where we can make the API call, let's actually make it."),l.a.createElement("p",null,"We will use the standard ",l.a.createElement("code",null,"Fetch")," API for it."),l.a.createElement("p",null,"The code for this, with an additional 100ms debounce, will look like this:"),l.a.createElement(m.a,{className:"javascript"},E.api),l.a.createElement("p",null,"Note the ",l.a.createElement("code",null,"yield")," statements that we use to synchronously resolve promises without any nested callbacks!"),l.a.createElement("p",null,"There are more details on ",l.a.createElement("code",null,"yield")," and the code that you can use inside the workers in the ",l.a.createElement("a",{href:"/guide/sliders",onClick:this.handleRoute},"sliders guide"),".")),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"4. Store the response of the call"),l.a.createElement("p",null,"Now that we get the repositories, where to put them?"),l.a.createElement("p",null,"The answer: in a few new reducers."),l.a.createElement("p",null,"We're interested in 3 things:"),l.a.createElement("ol",null,l.a.createElement("li",null,"Whether we're currently fetching and data: ",l.a.createElement("code",null,"isLoading")),l.a.createElement("li",null,"The repositories that we have fetched: ",l.a.createElement("code",null,"repositories")),l.a.createElement("li",null,"Any error that might have occurred: ",l.a.createElement("code",null,"error"))),l.a.createElement("p",null,"We can get all of this by just adding two new actions:"),l.a.createElement("ol",null,l.a.createElement("li",null,"One to set the repositories: ",l.a.createElement("code",null,"setRepositories")),l.a.createElement("li",null,"One to set the error message: ",l.a.createElement("code",null,"setFetchError"))),l.a.createElement("p",null,"Hooking them up gives the following result:"),l.a.createElement(m.a,{className:"javascript"},E.reducers),l.a.createElement("p",null,"Now we just need to call the right actions from the worker:"),l.a.createElement(m.a,{className:"javascript"},E.api2),l.a.createElement("p",null,"Note that we have to use the redux-saga ",l.a.createElement("code",null,"put")," effect when dispatching the actions.")),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"5. Display the result"),l.a.createElement("p",null,"The last step is to display the repositories to the user. To do this we use the following code:"),l.a.createElement(m.a,{className:"javascript"},E.view),l.a.createElement("p",null,"Giving us the following result:"),l.a.createElement("div",{className:"demo"},l.a.createElement(h.a,null)),l.a.createElement("p",null,"It works! Almost..."),l.a.createElement("p",null,"What's still missing?"),l.a.createElement("p",null,"Well, for starters it would be nice if it would fetch all the respositories on page load."),l.a.createElement("p",null,"Also, it would be great to sort the repositories by the number of stars")),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"6. Last steps"),l.a.createElement("p",null,"No problem, we can fix that!"),l.a.createElement("p",null,"First, to load the repositories on page load, we have two options, both requiring the ",l.a.createElement("code",null,"start")," function that is run when the component is mounted."),l.a.createElement("p",null,"Option #1 is to call the ",l.a.createElement("code",null,"fetchRepositories")," worker directly using redux-saga's ",l.a.createElement("code",null,"call"),":"),l.a.createElement(m.a,{className:"javascript"},E.call),l.a.createElement("p",null,"This works, but it feels kind of hacky. We're pretending to be an action that triggers the worker."),l.a.createElement("p",null,"The other option is to go through redux and execute the ",l.a.createElement("code",null,"setUsername")," action with the default username:"),l.a.createElement(m.a,{className:"javascript"},E.put),l.a.createElement("p",null,"It feels cleaner, but there's still something weird with calling ",l.a.createElement("code",null,"setUsername")," with the username that's already set."),l.a.createElement("p",null,"In the end, both approaches get the job done, and it's up to you to figure out which makes more sense depening on your situation."),l.a.createElement("p",null,"The second problem had to do with sorting the results."),l.a.createElement("p",null,"For that we can create a selector that takes the ",l.a.createElement("code",null,"repositories")," as input and outputs a sorted array:"),l.a.createElement(m.a,{className:"javascript"},E.selector),l.a.createElement("p",null,"Now all that's left to do is to replace ",l.a.createElement("code",null,"repositories")," with ",l.a.createElement("code",null,"sortedRepositories")," in your component."),l.a.createElement("p",null,"Because the selectors are made with ",l.a.createElement("code",null,"reselect")," under the hood, you can be sure that they will only be recalculated (resorted in this case) when the original input (repositories) change."),l.a.createElement("p",null,"That's much better than re-sorting them on every call to ",l.a.createElement("code",null,"render()"),".")),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"7. Final result"),l.a.createElement("p",null,"Adding the finishing touches gives us this final result:"),l.a.createElement("div",{className:"demo"},l.a.createElement(p.a,null)),l.a.createElement("p",null,"With this code:"),l.a.createElement(m.a,{className:"javascript"},E.full),l.a.createElement("p",null,"There's still one thing that's broken:"),l.a.createElement("p",null,"If a github user or organisation has more than 100 repositories, only the first 100 results will be returned. Github's API provides a way to ask for the next 100 results (the ",l.a.createElement("a",{href:"https://developer.github.com/v3/repos/#response"},l.a.createElement("code",null,"Link")," headers"),"), but as resolving this is outside the scope of this guide, it will be left as an exercise for the reader ;).")),l.a.createElement("div",{className:"description"},"Next page: ",l.a.createElement("a",{href:"/guide/connected",onClick:this.handleRoute},"Connected logic")))}}]),t}(s.Component))||y)},350:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),l=n.n(s),i=n(33),c=(n.n(i),n(8)),u=(n.n(c),n(19)),m=n.n(u),p=n(69);n.d(t,"a",function(){return y});var d,h,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g={package:n(1016),store:n(1017),cli:n(1009),craInstall:n(1013),craPackage:n(1014),craStore:n(1015),craIndex:n(1012),craCustom1:n(1010),craCustomEnv:n(1011)},y=(d=n.i(c.connect)({actions:[p.a,["toggleFeature"]],props:[p.a,["features"]]}),d(h=function(e){function t(){var e,o,s,l;a(this,t);for(var c=arguments.length,u=Array(c),m=0;m<c;m++)u[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(i.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),f(t,[{key:"render",value:function(){this.props.features,this.actions.toggleFeature;return l.a.createElement("div",{className:"counter-singleton-scene"},l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Installation"),l.a.createElement("p",null,"Installing ",l.a.createElement("code",null,"kea")," is rather straightforward. You need to add the ",l.a.createElement("code",null,"kea")," package, hook it up to your reducers and run the saga."),l.a.createElement("p",null,"This guide describes three ways to install:"),l.a.createElement("ol",null,l.a.createElement("li",null,"Adding kea to an existing app that already uses ",l.a.createElement("code",null,"redux")," (and ",l.a.createElement("code",null,"redux-saga"),"?)"),l.a.createElement("li",null,"Adding to apps made with ",l.a.createElement("code",null,"create-redux-app")),l.a.createElement("li",null,"Starting a new kea app from scratch")),l.a.createElement("h3",null,"1. Adding to an existing app that already uses ",l.a.createElement("code",null,"redux")," (and ",l.a.createElement("code",null,"redux-saga"),"?)"),l.a.createElement("h4",null,"1.1. Packages"),l.a.createElement("p",null,"First install the packages:"),l.a.createElement(m.a,{className:"bash"},g.package),l.a.createElement("h4",null,"1.2. Store"),l.a.createElement("p",null,"Then configure the store:"),l.a.createElement(m.a,{className:"javascript"},g.store),l.a.createElement("p",null,"NB! Make sure the store is loaded before any ",l.a.createElement("code",null,"kea()")," calls. In practice this usually means you should import your store before your componentts in your app's entrypoint."),l.a.createElement("h4",null,"1.3. Optional: Enable decorators"),"Kea makes use of an experimental support for decorators to make your code nicer to read. If you wish to use this feature, follow the guide here: ",l.a.createElement("a",{href:"https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy"},"babel-plugin-transform-decorators-legacy"),".",l.a.createElement("h3",null,"2. Adding to apps made with ",l.a.createElement("code",null,"create-redux-app")),l.a.createElement("h4",null,"2.1. Create your app"),l.a.createElement("p",null,"Follow the ",l.a.createElement("a",{href:"https://github.com/facebookincubator/create-react-app"},"create-react-app guide")," to create an app"),l.a.createElement(m.a,{className:"bash"},g.craInstall),l.a.createElement("h4",null,"2.2. Install kea, redux, redux-saga and reselect"),l.a.createElement(m.a,{className:"bash"},g.craPackage),l.a.createElement("h4",null,"2.3. Configure your store"),l.a.createElement("p",null,"Create a file called ",l.a.createElement("code",null,"src/store.js")," and enter the following code"),l.a.createElement(m.a,{className:"javascript"},g.craStore),l.a.createElement("h4",null,"2.4. Update your app's entrypoint to use redux"),l.a.createElement("p",null,"You need to add the following lines to your ",l.a.createElement("code",null,"src/index.js")," to make your app work with redux and redux-saga:"),l.a.createElement(m.a,{className:"javascript"},g.craIndex),l.a.createElement("h4",null,"2.5. Optional: Enable decorators"),l.a.createElement("p",null,"To support calls such as ",l.a.createElement("code",null,"@kea({})")," before your React components, you must enable an experimental ES feature called ",l.a.createElement("a",{href:"https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy"},"decorators"),"."),l.a.createElement("p",null,"You may either do it by ejecting your webpack configuration and following the steps of 1.3. If you wish to avoid that, you have to find some other way. The easiest option is to replace ",l.a.createElement("code",null,"react-scripts")," with ",l.a.createElement("a",{href:"https://github.com/kitze/custom-react-scripts"},l.a.createElement("code",null,"custom-react-scripts")),"."),l.a.createElement("p",null,"To do this, first run these commands:"),l.a.createElement(m.a,{className:"bash"},g.craCustom1),l.a.createElement("p",null,"Then create a file called ",l.a.createElement("code",null,".env")," in the root of your project and add this:"),l.a.createElement(m.a,{className:"bash"},g.craCustomEnv),l.a.createElement("p",null,"Now you will be able to use decorators in your code"),l.a.createElement("h3",null,"3. Starting a new kea app from scratch"),l.a.createElement(m.a,{className:"bash"},g.cli),l.a.createElement("h2",null,"Continue with the guide"),"Next page: ",l.a.createElement("a",{href:"/guide/counter",onClick:this.handleRoute},"Counter")))}}]),t}(s.Component))||h)},351:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1033),l=(n.n(s),n(1)),i=n.n(l),c=n(8),u=(n.n(c),n(33)),m=(n.n(u),n(211)),p=n(352),d=n(353),h=n(19),f=n.n(h),g=n(69);n.d(t,"a",function(){return v});var y,b,E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w={full:n(1020),static:n(1025),addSagaImports:n(1018),addSagaStart:n(1019),saga1Before:n(1023),saga1After:n(1022),saga2Effects:n(1024)},v=(y=n.i(c.connect)({actions:[g.a,["toggleFeature"]],props:[g.a,["features"]]}),y(b=function(e){function t(){var e,o,s,l;a(this,t);for(var i=arguments.length,c=Array(i),m=0;m<i;m++)c[m]=arguments[m];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.handleRoute=function(e){var t=s.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),t(n.i(u.push)(a)),window.scrollTo(0,0)},l=o,r(s,l)}return o(t,e),E(t,[{key:"render",value:function(){var e=this.props.features,t=this.actions.toggleFeature;return i.a.createElement("div",{className:"sliders-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #3 - Sliders"),"This example demonstrates side effects through sagas.",i.a.createElement("br",null),i.a.createElement("br",null),"We will build a slider that will update its image every 5 seconds.",i.a.createElement("h2",null,"Final result"),"The final result will look like this:",i.a.createElement("div",{className:"demo"},i.a.createElement("div",{className:"slider-container"},i.a.createElement(m.a,{id:1,initialSlide:0}))),"Whenever you press any of the dots the 5 second counter will reset.",i.a.createElement("h2",null,"1. The static component"),"Based on the knowledge from the previous chapters, you should be able to build a static slider.",i.a.createElement("br",null),i.a.createElement("br",null),"The code for it will look something like this:",i.a.createElement(f.a,{className:"javascript"},w.static),"Giving us the following result:",i.a.createElement("div",{className:"demo"},i.a.createElement("div",{className:"slider-container"},i.a.createElement(p.a,null))),"Click it! It works, but won't change the slides automatically.",i.a.createElement("h2",null,"2. Just Add Sagas"),"For that we need to write some ",i.a.createElement("a",{href:"https://redux-saga.js.org/"},"sagas"),".",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",{href:"https://redux-saga.js.org/"},"Sagas")," provide a nice way to write code that has side effects. They might be unfamiliar at first, but when you get to know them, you'll wonder how you ever wrote your frontend code without them.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return t("sagas")}},"I need to brush up on my Sagas"),i.a.createElement("br",null),e.sagas?i.a.createElement("div",{className:"extra-help"},"Here is a quick refresher on sagas. Please read ",i.a.createElement("a",{href:"https://redux-saga.js.org/"},"the redux-saga documentation")," for more details.",i.a.createElement("br",null),i.a.createElement("br",null),"The cool thing with sagas is that they let you write async code in a sequential manner.",i.a.createElement("br",null),i.a.createElement("br",null),"When before you would write:",i.a.createElement(f.a,{className:"javascript"},w.saga1Before),"With sagas you can write the same code like this:",i.a.createElement(f.a,{className:"javascript"},w.saga1After),"This is a simple example, but you can probably see how the magical ",i.a.createElement("code",null,"yield")," keyword will make your life so much easier.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return t("sagasGenerators")}},"What the ...?"),i.a.createElement("br",null),e.sagasGenerators?i.a.createElement("div",{className:"extra-help"},"Notice the ",i.a.createElement("code",null,"*")," between ",i.a.createElement("code",null,"function * doSomething()")," and the ",i.a.createElement("code",null,"yield")," before ",i.a.createElement("code",null,"yield api.fetchUsers()"),".",i.a.createElement("br",null),i.a.createElement("br",null),"The ",i.a.createElement("code",null,"*")," indicates that youre creating a ",i.a.createElement("a",{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function*"},i.a.createElement("em",null,"generator function")),". From MDN: ",i.a.createElement("em",null,"Generators are functions which can be exited and later re-entered. Their context (variable bindings) will be saved across re-entrances."),i.a.createElement("br",null),i.a.createElement("br",null),"It's a bit like using the new ES ",i.a.createElement("code",null,"async")," and ",i.a.createElement("code",null,"await")," features."):null,i.a.createElement("br",null),"In addition to simplifying promise-based callbacks, redux-saga provides a lot of helpers which make working with redux actions very simple.",i.a.createElement("br",null),i.a.createElement("br",null),"Here are a few of the special effects you can use to control your sagas:",i.a.createElement(f.a,{className:"javascript"},w.saga2Effects),"For this example it's important that you understand how the ",i.a.createElement("code",null,"put"),", ",i.a.createElement("code",null,"take")," and ",i.a.createElement("code",null,"race")," effects work.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",{href:"https://redux-saga.js.org/docs/advanced/Concurrency.html"},i.a.createElement("code",null,"takeEvery"))," and ",i.a.createElement("a",{href:"https://redux-saga.js.org/docs/advanced/Concurrency.html"},i.a.createElement("code",null,"takeLatest"))," are very useful as well!"):null,i.a.createElement("br",null),"First we must import the ",i.a.createElement("code",null,"redux-saga/effects")," that we need. We'll also import a ",i.a.createElement("code",null,"delay")," effect that just sleeps for the given amount of milliseconds.",i.a.createElement(f.a,{className:"javascript"},w.addSagaImports),"And then we create a ",i.a.createElement("code",null,"start")," generator function inside ",i.a.createElement("code",null,"@kea({})"),". This function is called every time your component is mounted.",i.a.createElement("br",null),i.a.createElement("br",null),"Inside this ",i.a.createElement("code",null,"start")," function we create a ",i.a.createElement("code",null,"race")," condition between two competing effects: a delay of 5 seconds and the action ",i.a.createElement("code",null,"updateSlide")," being triggered.",i.a.createElement("br",null),i.a.createElement("br",null),"The code pauses at the ",i.a.createElement("code",null,"yield race()")," call until one of the two conditions is met.",i.a.createElement("br",null),i.a.createElement("br",null),"In case the timeout won the race, we fetch the latest slide (",i.a.createElement("code",null,"yield this.get(..)")," is a shorthand to use the selectors defined in ",i.a.createElement("code",null,"@kea({})"),")... and then we dispatch (",i.a.createElement("code",null,"yield put()"),") the ",i.a.createElement("code",null,"updateSlide")," action with the next slide.",i.a.createElement(f.a,{className:"javascript"},w.addSagaStart),"All of this results in this:",i.a.createElement("div",{className:"demo"},i.a.createElement("div",{className:"slider-container"},i.a.createElement(d.a,null))),"Now if you will always just have one slider on your screen, you're done. If you wish to have many slider instances, you will run into the same issue as with the dynamic counter example - both sliders will listen to and react to the ",i.a.createElement("code",null,"updateSlide")," actions unless you explicitly prohibit them.",i.a.createElement("br",null),i.a.createElement("br",null),"The code below demonstrates a way to prevent this from happening. It also shows how to listen to actions using the ",i.a.createElement("code",null,"takeEvery")," helper and the ",i.a.createElement("code",null,"workers")," object."),i.a.createElement("div",{className:"code"},i.a.createElement("h2",null,"Full source"),"Better documentation is coming soon. Until then, read the comments in the code and the ",i.a.createElement("a",{href:"https://redux-saga.js.org/"},"redux-saga")," documentation.",i.a.createElement(f.a,{className:"javascript"},w.full),"Next page: ",i.a.createElement("a",{href:"/guide/github",onClick:this.handleRoute},"Github API")))}}]),t}(l.Component))||b)},352:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(192),i=(n.n(l),n(1)),c=n.n(i),u=n(15),m=n.n(u),p=n(8),d=(n.n(p),n(129)),h=n(127);n.d(t,"a",function(){return b});var f,g,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=(f=n.i(p.kea)({actions:function(){return{updateSlide:function(e){return{index:e}}}},reducers:function(e){var t=e.actions;return{currentSlide:[0,m.a.number,s({},t.updateSlide,function(e,t){return t.index%h.a.length})]}},selectors:function(e){var t=e.selectors;return{currentImage:[function(){return[t.currentSlide]},function(e){return h.a[e]},m.a.object]}}}),f(g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.currentSlide,a=e.currentImage,r=this.actions.updateSlide,o="Image copyright by "+a.author;return c.a.createElement("div",{className:"kea-slider"},c.a.createElement("img",{src:a.src,alt:o,title:o}),c.a.createElement("div",{className:"buttons"},n.i(d.a)(h.a.length).map(function(e){return c.a.createElement("span",{key:e,className:e===t?"selected":"",onClick:function(){return r(e)}})})))}}]),t}(i.Component))||g)},353:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(192),i=(n.n(l),n(1)),c=n.n(i),u=n(15),m=n.n(u),p=n(8),d=(n.n(p),n(44)),h=n(129),f=n(128),g=n(127);n.d(t,"a",function(){return w});var y,b,E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=(y=n.i(p.kea)({actions:function(){return{updateSlide:function(e){return{index:e}}}},reducers:function(e){var t=e.actions;return{currentSlide:[0,m.a.number,s({},t.updateSlide,function(e,t){return t.index%g.a.length})]}},selectors:function(e){var t=e.selectors;return{currentImage:[function(){return[t.currentSlide]},function(e){return g.a[e]},m.a.object]}},start:regeneratorRuntime.mark(function e(){var t,a,r,o,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.actions.updateSlide,console.log("Starting homepage slider saga"),console.log(this,this.actions,this.props);case 3:return e.next=6,n.i(d.c)({change:n.i(d.d)(function(e){return e.type===t.toString()&&e.payload.key===s.key}),timeout:n.i(f.a)(5e3)});case 6:if(a=e.sent,r=a.timeout,!r){e.next=14;break}return e.next=11,this.get("currentSlide");case 11:return o=e.sent,e.next=14,n.i(d.a)(t(o+1));case 14:e.next=3;break;case 16:case"end":return e.stop()}},e,this)})}),y(b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.currentSlide,a=e.currentImage,r=this.actions.updateSlide,o="Image copyright by "+a.author;return c.a.createElement("div",{className:"kea-slider"},c.a.createElement("img",{src:a.src,alt:o,title:o}),c.a.createElement("div",{className:"buttons"},n.i(h.a)(g.a.length).map(function(e){return c.a.createElement("span",{key:e,className:e===t?"selected":"",onClick:function(){return r(e)}})})))}}]),t}(i.Component))||b)},69:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(15),o=n.n(r),s=n(8),l=(n.n(s),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});t.a=n.i(s.kea)({actions:function(){return{toggleFeature:function(e){return{feature:e}}}},reducers:function(e){var t=e.actions;return{features:[{},o.a.object,a({},t.toggleFeature,function(e,t){var n=t.feature;return l({},e,a({},n,!e[n]))})]}}})},946:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,"",""])},947:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,"",""])},948:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,".counter-dynamic-scene {\n  // text-align: center;\n}\n",""])},950:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,".counter-singleton-scene {\n  // text-align: center;\n}\n",""])},952:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,".sliders-scene {\n  text-align: center;\n}\n.sliders-scene .slider-container {\n  max-width: 500px;\n  margin: 0 auto;\n}\n",""])},980:function(e,t){e.exports="// index.js\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    toggleFeature: (feature) => ({ feature })\n  }),\n  reducers: ({ actions }) => ({\n    features: [{}, PropTypes.object, {\n      [actions.toggleFeature]: (state, payload) => {\n        const { feature } = payload\n        return {\n          ...state,\n          [feature]: !state[feature]\n        }\n      }\n    }]\n  })\n})\nexport default class CounterExampleScene extends Component {\n  // ...\n\n  render () {\n    const { features } = this.props\n    const { toggleFeature } = this.actions\n\n    return (\n      <div>\n        <button onClick={() => toggleFeature('reducerDetails')}>{'Tell me more!'}</button>\n\n        {features.reducerDetails ? (\n          <div className='extra-help'>\n            extra help comes here\n          </div>\n        ) : null}\n      </div>\n    )\n  }\n}\n"},981:function(e,t){e.exports="// features-logic.js\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\nexport default kea({\n  actions: () => ({\n    toggleFeature: (feature) => ({ feature })\n  }),\n  reducers: ({ actions }) => ({\n    features: [{}, PropTypes.object, {\n      [actions.toggleFeature]: (state, payload) => {\n        const { feature } = payload\n        return {\n          ...state,\n          [feature]: !state[feature]\n        }\n      }\n    }]\n  })\n})\n"},982:function(e,t){e.exports="// index.js\nimport React, { Component } from 'react'\n\nimport featuresLogic from '../features-logic'\n\n@featuresLogic\nexport default class CounterExampleScene extends Component {\n  // no change here\n}\n"},983:function(e,t){e.exports="import React, { Component } from 'react'\nimport { connect } from 'kea'\n\nimport featuresLogic from '../features-logic'\nimport someOtherLogic from '../some-other-logic'\n\n@connect({\n  actions: [\n    featuresLogic, [\n      'toggleFeature'\n    ]\n  ],\n  props: [\n    featuresLogic, [\n      'features'\n    ],\n    someOtherLogic, [\n      'isMenuOpen',\n      'isPageLoading',\n      'highlightTheme'\n    ]\n  ]\n})\nexport default class CounterExampleScene extends Component {\n  // as we were...\n  render () {\n    const { features, isMenuOpen, isPageLoading, highlightTheme } = this.props\n    const { toggleFeature } = this.actions\n    // ...\n  }\n}\n"},984:function(e,t){e.exports="import React, { Component } from 'react'\nimport { connect } from 'kea'\n\nimport featuresLogic from '../features-logic'\n\n@kea({\n  connect: {\n    actions: [\n      featuresLogic, [\n        'toggleFeature'\n      ]\n    ],\n    props: [\n      featuresLogic, [\n        'features'\n      ]\n    ]\n  },\n  actions: {\n    doSomething: (id) => ({ id })\n  },\n  // ...\n})\nexport default class CounterExampleScene extends Component {\n  // no change here\n}\n"},986:function(e,t){e.exports="// counter/index.js\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  actions: () => ({\n    increment: (amount) => ({ amount }),\n    decrement: (amount) => ({ amount })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => payload.key === key ? state + payload.amount : state,\n      [actions.decrement]: (state, payload) => payload.key === key ? state - payload.amount : state\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    doubleCounter: [\n      () => [selectors.counter],\n      (counter) => counter * 2,\n      PropTypes.number\n    ]\n  })\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter, doubleCounter } = this.props\n    const { increment, decrement } = this.actions\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class CounterDynamicScene extends Component {\n  render () {\n    return (\n      <div>\n        <Counter id={1} />\n        <Counter id={2} />\n      </div>\n    )\n  }\n}\n";
},987:function(e,t){e.exports="import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  key: (props) => props.id,\n\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  // ...\n})\nexport default class Counter extends Component {\n  // ...\n}\n"},988:function(e,t){e.exports="@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => payload.key === key ? state + payload.amount : state,\n      [actions.decrement]: (state, payload) => payload.key === key ? state - payload.amount : state\n    }]\n  }),\n\n  // selectors: ...\n})\n"},989:function(e,t){e.exports="function increment (amount) {\n  return { amount: amount }\n}\n"},990:function(e,t){e.exports="store.dispatch({\n  type: 'increment counter', // autogenerated unique type\n  payload: {\n    amount: 1\n  }\n})\n"},991:function(e,t){e.exports="const { increment, decrement } = this.actions\n"},992:function(e,t){e.exports="// counter/index.js\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    increment: (amount) => ({ amount }),\n    decrement: (amount) => ({ amount })\n  }),\n  // TODO: add things here\n})\nexport default class Counter extends Component {\n  render () {\n    const { increment, decrement } = this.actions\n\n    // TODO: make these work\n    const counter = 0\n    const counter = 0\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n"},993:function(e,t){e.exports="import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  // TODO: code goes here\n})\nexport default class Counter extends Component {\n  render () {\n    // TODO: make these work\n    const counter = 0\n    const doubleCounter = 0\n    const increment = () => {}\n    const decrement = () => {}\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n"},994:function(e,t){e.exports="// counter/index.js\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    increment: (amount) => ({ amount }),\n    decrement: (amount) => ({ amount })\n  }),\n\n  reducers: ({ actions }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => state + payload.amount,\n      [actions.decrement]: (state, payload) => state - payload.amount\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    doubleCounter: [\n      () => [selectors.counter],\n      (counter) => counter * 2,\n      PropTypes.number\n    ]\n  })\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter, doubleCounter } = this.props\n    const { increment, decrement } = this.actions\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class CounterSingletonScene extends Component {\n  render () {\n    return (\n      <div>\n        <Counter />\n        <Counter />\n      </div>\n    )\n  }\n}\n"},995:function(e,t){e.exports="import { kea } from 'kea'\n"},996:function(e,t){e.exports="import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\nconst keaOptions = {\n  // ... code here\n}\n\nclass Counter extends Component {\n  render () {\n    // TODO: make these work\n    const counter = 0\n    const doubleCounter = 0\n    const increment = () => {}\n    const decrement = () => {}\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\nexport default kea(keaOptions)(Component)\n"},997:function(e,t){e.exports="import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    increment: (amount) => ({ amount }),\n    decrement: (amount) => ({ amount })\n  }),\n\n  reducers: ({ actions }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => state + payload.amount,\n      [actions.decrement]: (state, payload) => state - payload.amount\n    }]\n  }),\n\n  // TODO: more code here?\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter } = this.props\n    const { increment, decrement } = this.actions\n\n    // TODO: is there a better way? we need to recompute this every time we render!\n    const doubleCounter = counter * 2\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n"},998:function(e,t){e.exports="selectors: ({ selectors }) => ({\n  // add as many as you want\n  nameOfSelector: [\n    // input selectors\n    () => [selectors.firstOtherSelector, selectors.secondOtherSelector],\n    // calculate the result\n    (firstOther, secondOther) => firstOther + secondOther,\n    // type of the result\n    PropTypes.number\n  ]\n})\n"},999:function(e,t){e.exports="\nactions: ({ constants }) => ({\n  // tab\n  showAll: true,\n  showActive: true,\n  showCompleted: true,\n\n  // todos\n  addTodo: value => ({ value }),\n  removeTodo: id => ({ id }),\n  completeTodo: id => ({ id }),\n  unCompleteTodo: id => ({ id }),\n  renameTodo: (id, value) => ({ id, value }),\n  setEditing: id => ({ id }),\n  updateEditValue: (id, value) => ({ id, value }),\n  clearEditing: id => ({ id }),\n  toggleAll: completed => ({ completed }),\n  clearCompleted: true\n}),\n\nreducers: ({ actions, constants }) => ({\n  visibilityFilter: [constants.SHOW_ALL, PropTypes.string, {\n    [actions.showAll]: () => constants.SHOW_ALL,\n    [actions.showActive]: () => constants.SHOW_ACTIVE,\n    [actions.showCompleted]: () => constants.SHOW_COMPLETED\n  }],\n\n  todos: [{}, PropTypes.object, { persist: true }, {\n    [actions.addTodo]: (state, payload) => {\n      const { value } = payload\n      const id = createUuid()\n\n      return {\n        ...state,\n        [id]: {\n          id,\n          createdAt: new Date().getTime(),\n          value,\n          completed: false,\n          editing: false\n        }\n      }\n    },\n    [actions.removeTodo]: (state, payload) => {\n      const { id } = payload\n      const { [id]: _dispose_, ...rest } = state\n      return rest\n    },\n    [actions.completeTodo]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          completed: true\n        }\n      }\n    },\n    [actions.unCompleteTodo]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          completed: false\n        }\n      }\n    },\n    [actions.renameTodo]: (state, payload) => {\n      const { id, value } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          value\n        }\n      }\n    },\n    [actions.toggleAll]: (state, payload) => {\n      const { completed } = payload\n      let newState = {}\n      Object.values(state).forEach(todo => {\n        newState[todo.id] = {...todo, completed}\n      })\n\n      return newState\n    },\n    [actions.clearCompleted]: (state, payload) => {\n      let newState = {}\n      Object.values(state).forEach(todo => {\n        if (!todo.completed) {\n          newState[todo.id] = todo\n        }\n      })\n      return newState\n    },\n    [actions.setEditing]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          editing: true,\n          editValue: state[id].value\n        }\n      }\n    },\n    [actions.updateEditValue]: (state, payload) => {\n      const { id, value } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          editValue: value\n        }\n      }\n    },\n    [actions.clearEditing]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          editing: false,\n          editValue: null\n        }\n      }\n    }\n  }]\n}),\n\n"}},[1044]);